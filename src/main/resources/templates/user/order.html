<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{base::layout(~{::body})}">
<head>
<meta charset="UTF-8">
<title>Checkout Page</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>
	<div class="container my-5">
		<div class="row">
			<!-- Left (Customer Information Form) -->
			<div class="col-lg-5 mb-4">
				<div class="card p-4">
					<h4 class="mb-3">Billing Details</h4>
					<form>
						<div class="row">
							<div class="col-md-6 mb-3">
								<label for="firstName" class="form-label">First Name</label> <input
									type="text" class="form-control" id="firstName"
									placeholder="John" required>
							</div>
							<div class="col-md-6 mb-3">
								<label for="lastName" class="form-label">Last Name</label> <input
									type="text" class="form-control" id="lastName"
									placeholder="Doe" required>
							</div>
						</div>

						<div class="mb-3">
							<label for="mobile" class="form-label">Mobile Number</label> <input
								type="tel" class="form-control" id="mobile"
								placeholder="+1 234 567 890" required>
						</div>

						<div class="mb-3">
							<label for="address" class="form-label">Address</label> <input
								type="text" class="form-control" id="address"
								placeholder="1234 Main St" required>
						</div>

						<div class="mb-3">
							<label for="city" class="form-label">City</label> <input
								type="text" class="form-control" id="city"
								placeholder="Los Angeles" required>
						</div>

						<div class="mb-3">
							<label for="pincode" class="form-label">Pincode</label> <input
								type="text" class="form-control" id="pincode"
								placeholder="90001" required>
						</div>
					</form>
				</div>
			</div>

			<!-- Right (Order Summary) -->
			<div class="col-lg-4">
				<div class="card position-sticky top-0 bg-success bg-opacity-10">
					<div class="p-3 bg-light bg-opacity-10">
						<h6 class="card-title mb-3">Order Summary</h6>
						<div class="d-flex justify-content-between mb-1 small">
							<span>Subtotal</span> <span>$214.50</span>
						</div>
						<div class="d-flex justify-content-between mb-1 small">
							<span>Shipping</span> <span>$20.00</span>
						</div>
						<div class="d-flex justify-content-between mb-1 small">
							<span>Coupon (Code: NEWYEAR)</span> <span class="text-danger">-$10.00</span>
						</div>
						<hr>
						<div class="d-flex justify-content-between mb-4 small">
							<span>TOTAL</span> <strong class="text-dark">$224.50</strong>
						</div>
						<div class="form-check mb-1 small">
							<label for="paymentMethod" class="form-label">Select
								Payment Method</label> <select class="form-select" id="paymentMethod"
								required>
								<option value="" disabled="disabled" selected="selected">Choose...</option>
								<option>Credit Card</option>
								<option>Debit Card</option>
								<option>UPI/QR-Code</option>
								<option>Net Banking</option>
							</select>
						</div>
						<button class="btn btn-success w-100 mt-2">Place order</button>
					</div>
					

				</div>
			</div>
			<div id="qr-code-container" class="mt-3 d-none col-2">
						<h6>Scan the QR Code:</h6>
						<div id="qrcode">
							</div>
						<img alt="qrcode" src="/img/images/QRCode.png">
					
					</div>
		</div>
	</div>
<script>
    document.getElementById('paymentMethod').addEventListener('change', function() {
        const paymentMethod = this.value;
        const qrCodeContainer = document.getElementById('qr-code-container');
        const qrCodeElement = document.getElementById('qrcode');

        if (paymentMethod === 'UPI/QR-Code') {
            const upiData = 'upi://pay?pa=your-upi-id@bank&pn=Your Name&am=224.50'; // Replace with actual UPI details and amount
            qrCodeElement.innerHTML = ''; // Clear any existing QR code
            QRCode.toCanvas(qrCodeElement, upiData, function (error) {
                if (error) console.error(error);
                console.log('QR Code generated!');
            });
            qrCodeContainer.classList.remove('d-none');
        } else {
            qrCodeContainer.classList.add('d-none'); // Hide QR code if another payment method is selected
        }
    });
</script>
	<script
		src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
